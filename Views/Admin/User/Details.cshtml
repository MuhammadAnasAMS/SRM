@model PIA_Admin_Dashboard.Models.User

@{
    ViewBag.Title = "User Details";
    ViewBag.ScreenTitle = "User Management";  // Keeps sidebar highlighting
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="card">
    <div class="card-header" style="display: flex; justify-content: space-between; align-items: center;">
        <span>@Model.Name's Profile</span>
        <a href="@Url.Action("Index", "User")" class="btn-primary" style="background-color: #1d3c34; padding: 6px 12px; font-size: 14px;">
            ← Go Back
        </a>
    </div>

    <div style="display: flex; flex-wrap: wrap; gap: 30px; align-items: center; margin-bottom: 20px;">
        <div style="flex: 0 0 140px;">
            <img src="@(string.IsNullOrEmpty(Model.Designation) ? "https://www.w3schools.com/howto/img_avatar.png" : Model.Designation)"
                 alt="Profile"
                 style="width: 140px; height: 140px; border-radius: 50%; object-fit: cover; border: 3px solid #1d3c34;"
                 onerror="this.onerror=null;this.src='https://www.w3schools.com/howto/img_avatar.png';" />
        </div>

        <div style="flex: 1;">
            <h2 style="margin: 0 0 10px; color: #1d3c34;">@Model.Name</h2>
            <p><strong>Employee ID:</strong> @Model.EmployeeId</p>
            <p><strong>Email:</strong> @Model.Email</p>
            <p><strong>Mobile:</strong> @Model.Mobile</p>
            <p><strong>Department:</strong> @(Model.Department?.Name ?? "No Department")</p>
            <p><strong>Role:</strong> @Model.Role</p>
            <p>
                <strong>Status:</strong>
                @if (Model.Status == "Online")
                {
                    <span style="color: green; font-weight: bold;">Online</span>
                }
                else
                {
                    <span style="color: red;">Offline</span>
                }
            </p>
        </div>
    </div>

    <div style="margin-top: 30px; display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
        <a href="@Url.Action("Edit", "User", new { id = Model.UserId })"
           class="btn-primary"
           style="background-color: #1d3c34; font-size: 16px; padding: 10px 20px;">
            ✏️ Edit
        </a>
        <a href="@Url.Action("Delete", "User", new { id = Model.UserId })"
           onclick="return confirm('Are you sure you want to delete this user?')"
           class="btn-primary"
           style="background-color: red; border: none; font-size: 16px; padding: 10px 20px;">
            🗑️ Delete
        </a>
    </div>
</div>
